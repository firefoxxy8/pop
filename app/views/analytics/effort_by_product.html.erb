<h3>Total Effort by Objective</h3>

<div class="row lead">
	<div class="col-md-4">
	Time Span: <%= Date::MONTHNAMES[@month] if @month > 0 %><%= ", " if @month > 0 %><%= @year %>
	</div>
	<div class="col-md-4">
	<%= @total_effort %> person-weeks
	</div>
	<div class="col-md-4">
	<%= @total_products %> products
	</div>
</div>

<div class="row">
	<div class="col-md-3"></div>
	<div class="col-md-6">

		<!-- Nav tabs -->
		<ul class="nav nav-tabs" role="tablist">
			<li class="nav-item">
				<a class="nav-link active" data-toggle="tab" href="#effort-table" role="tab">Table View</a>
			</li>
			<li class="nav-item">
				<a class="nav-link" data-toggle="tab" href="#effort-chart" role="tab">Chart View</a>
			</li>
		</ul>

		<!-- Tab panes -->
		<div class="tab-content">
			<div class="tab-pane active" id="effort-table" role="tabpanel">
				<table class="table table-striped table-condensed">
					<tr>
						<th class="col-md-4">Product</th>
						<th class="col-md-1">Person-Weeks</th>
						<th class="col-md-1">% Total Effort</th>
					</tr>
					<% @products_array.each do |o| %>
					<tr>
						<td><%= o["label"] %></td>
						<td><%= o["value"] %></td>
						<td><%= ((o["value"].to_f / @total_effort) * 100).round(1) %></td>
					</tr>
					<% end %>
				</table>
			</div>
			<div class="tab-pane" id="effort-chart" role="tabpanel">
				<svg id="chartSvgElem"></svg>
				<%= render :partial => "multiHorizontalBarChart", :locals => {:domId => "chartSvgElem"} %>
			</div>
		</div>


	</div>
	<div class="col-md-3"></div>
</div>
